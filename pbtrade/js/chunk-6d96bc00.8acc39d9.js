(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d96bc00"],{"0680":function(t,e,a){"use strict";var n={"110B":"T+0","111B":"T+1","11ZB":"展期","110S":"了结","112B":"T+0双创版","120S":"转结","11MB":"自营出借","11QB":"权益合约"},o={0:"正常",1:"已超期",3:"已了结",4:"已提交归还申请"},l={0:"约定申请",2:"撤单申请",3:"展期申请",4:"归还申请"},i={0:"约定合约",1:"权益合约"},r={1:"上海",2:"深圳",B1:"上海",B2:"深圳",B3:"跨市场"},c={0:"当日有效",1:"约定日期前有效"},s={P:"预处理",D:"已办理",F:"失败",H:"挂起",N:"未处理",S:"成功",W:"办理中",1:"已处理",0:"未处理",2:"挂起"},u={0:"当日有效",1:"约定日期前有效"},d={A:"全部",W:"待确认",P:"办理中",V:"已确认",6:"已撤销",2:"已拒绝",8:"部分部撤"},p={0:"未展期",1:"提出展期",2:"已拒绝",3:"已办理",4:"办理中"},f={0:"否",1:"是"},b={0:"已确认",1:"待确认",2:"已撤单",4:"拒绝",5:"已受理",6:"办理中",8:"部分确认",9:"全部确认"};e["a"]={BusiCodeDic:n,CompactStatus:o,AppType:l,ExchangeType:r,AppDateType:c,ProcFlag:s,riqi_code:u,CompactType:i,AppStatus:d,ExFlag:p,BidFlag:f,ConfirmStatusDic:b}},"0f9a":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},[t.visible?n("div",{staticClass:"index_intention"},[n("div",{staticClass:"selfModel",style:{background:t.background?t.background:"#fff",width:t.width+"px"}},[n("img",{staticClass:"closeModel",attrs:{src:a("f00e"),alt:""},on:{click:function(e){return t.closeModel()}}}),n("div",{staticClass:"modelTitle"},[n("i",{staticClass:"line_l"}),n("span",[t._v(t._s(t.title))]),n("i",{staticClass:"line_r"})]),n("div",{staticClass:"modelContent"},[t._t("modelContent")],2)])]):t._e()])},o=[],l={props:["width","visible","title","background"],data:function(){return{body:{}}},watch:{visible:function(t){this.body.style.overflow=t?"hidden":"auto"}},mounted:function(){var t=document.querySelector("body");this.body=t},methods:{closeModel:function(){this.$emit("close")}}},i=l,r=(a("7925"),a("2877")),c=Object(r["a"])(i,n,o,!1,null,"1aaae4bb",null);e["a"]=c.exports},1663:function(t,e,a){"use strict";a("3809")},"1b78":function(t,e,a){},"1ba4":function(t,e,a){"use strict";a.d(e,"a",(function(){return l}));var n=a("5530"),o=(a("d3b7"),a("bc3a"),a("4360"),a("b775"));function l(t,e){return Object(o["a"])({url:"v2/service/account/prime/bond/service",method:"post",data:Object(n["a"])(Object(n["a"])({},t),{},{code:e})})}},"29c1":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("selfModel",{attrs:{visible:t.visible,width:"500",title:"明细"},on:{close:t.closeModel}},[a("div",{staticClass:"yuequanModel",attrs:{slot:"modelContent"},slot:"modelContent"},[a("div",{staticClass:"list"},t._l(t.detailData,(function(e,n){return a("p",{key:n},[t._v(t._s(n)),a("span",[t._v(t._s(e))])])})),0)])])],1)},o=[],l=a("0f9a"),i={components:{selfModel:l["a"]},props:{loading:{},detailData:{type:Object,default:function(){return{}}}},data:function(){return{visible:!1,listKey:[""]}},methods:{showModel:function(){this.visible=!0},closeModel:function(){this.visible=!1}}},r=i,c=(a("75f1"),a("2877")),s=Object(c["a"])(r,n,o,!1,null,"7a46e03a",null);e["a"]=s.exports},3809:function(t,e,a){},"6a6e":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"topnavBox"},["extension"!=t.$route.name&&"return"!=t.$route.name?a("div",{staticClass:"leftNav"},[a("ul",t._l(t.navList,(function(e,n){return a("li",{class:n==t.current?"current":"",on:{click:function(e){return t.changeNav(n)}}},[t._v(t._s(e))])})),0)]):a("div",{staticClass:"zhanNav",on:{click:t.backTo}},[a("i",{staticClass:"el-icon-arrow-left"}),a("span",{staticClass:"back"},[t._v("返回上一页")])]),"extension"==t.$route.name||"return"==t.$route.name?a("div",{staticClass:"modelTitle"},[a("i",{staticClass:"line_l"}),a("span",[t._v(t._s(t.title))]),a("i",{staticClass:"line_r"})]):t._e(),a("div",{staticClass:"accountList"},[a("span",[t._v("信用账户")]),a("el-select",{staticStyle:{width:"260px"},attrs:{size:"small"},on:{change:t.accountChange},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.fundAccountList,(function(e){return a("el-option",{key:e[1],attrs:{label:e[0]+"   "+e[1],value:e[1]}},[a("span",{staticStyle:{float:"left",color:"#8492a6","font-size":"13px"}},[t._v(t._s(e[0]))]),a("span",{staticStyle:{float:"right"}},[t._v(t._s(e[1]))])])})),1)],1)])])},o=[],l=a("5530"),i=(a("d3b7"),a("159b"),a("ac1f"),a("1276"),a("2f62")),r={inject:["reload"],props:["navList","current","title"],data:function(){return{value:"",fundAccountList:""}},created:function(){this.value=this.fundAccount},computed:Object(l["a"])({},Object(i["c"])(["fundAccount","fundNames"])),watch:{fundNames:{handler:function(t,e){var a=[];t.split(";").forEach((function(t){a.push(t.split("|"))})),this.fundAccountList=a},immediate:!0}},methods:Object(l["a"])(Object(l["a"])({},Object(i["b"])(["SET_ACCOUNT"])),{},{accountChange:function(t){this.SET_ACCOUNT(t),this.value=t,this.reload()},changeNav:function(t){this.$emit("change",t)},backTo:function(){this.$router.go(-1)}})},c=r,s=(a("8028"),a("2877")),u=Object(s["a"])(c,n,o,!1,null,"6019a21b",null);e["a"]=u.exports},"75f1":function(t,e,a){"use strict";a("c676")},7742:function(t,e,a){},7925:function(t,e,a){"use strict";a("7742")},8028:function(t,e,a){"use strict";a("1b78")},c676:function(t,e,a){},e4cb:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("topNav",{attrs:{navList:t.navList,current:t.current}}),a("div",{staticClass:"bgfff pd30 mb20"},[a("div",{staticClass:"bus_query"},[t._m(0),a("div",{staticClass:"searchForm_wt"},[a("el-form",{ref:"form",attrs:{model:t.form}},[a("el-form-item",{staticClass:"statusbox",attrs:{label:"属性",prop:"attribute"}},[a("el-radio-group",{on:{change:t.changeAttribute},model:{value:t.form.attribute,callback:function(e){t.$set(t.form,"attribute",e)},expression:"form.attribute"}},[a("el-radio",{attrs:{label:1}},[t._v("个券")]),a("el-radio",{attrs:{label:2}},[t._v("篮子")])],1)],1),a("div",{staticClass:"flex"},[a("div",{staticClass:"left el-form--inline"},[0!=t.form.attribute?a("el-form-item",{attrs:{label:1==t.form.attribute?"证券代码":"篮子代码",prop:"StockCode"}},[a("el-input",{attrs:{autocomplete:"off",size:"small",placeholder:1==t.form.attribute?"请输入证券代码":"请输入篮子代码",disabled:0==t.form.attribute},model:{value:t.form.StockCode,callback:function(e){t.$set(t.form,"StockCode",e)},expression:"form.StockCode"}})],1):t._e(),a("el-form-item",{attrs:{label:"合约到期日起",prop:"TrdDate_Begin"}},[a("el-date-picker",{staticStyle:{width:"180px"},attrs:{type:"date",format:"yyyy-MM-dd",size:"small",placeholder:"选择合约到期日起","picker-options":t.startPickerOptions},model:{value:t.form.TrdDate_Begin,callback:function(e){t.$set(t.form,"TrdDate_Begin",e)},expression:"form.TrdDate_Begin"}})],1),a("el-form-item",{attrs:{label:"合约到期日止",prop:"TrdDate_End"}},[a("el-date-picker",{staticStyle:{width:"180px"},attrs:{type:"date",format:"yyyy-MM-dd",size:"small",placeholder:"选择合约到期日止","picker-options":t.endPickerOptions},model:{value:t.form.TrdDate_End,callback:function(e){t.$set(t.form,"TrdDate_End",e)},expression:"form.TrdDate_End"}})],1),a("el-form-item",{staticStyle:{"margin-right":"0"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.onSearch}},[t._v("查询")]),a("el-button",{on:{click:t.clearForm}},[t._v("重置")])],1)],1)])],1)],1)])]),a("div",{staticClass:"bgfff"},[a("div",{staticClass:"topButton"},[t._m(1),a("div",{staticClass:"handleBtnBox"},[a("el-button",{staticClass:"ml20",attrs:{loading:t.exportLoading},on:{click:t.exportData}},[t._v(" 导出数据"),t.multipleSelection.length>0?a("span",[t._v("("+t._s(t.multipleSelection.length)+")")]):t._e()])],1)]),a("el-table",{staticClass:"pubTable",staticStyle:{width:"100%"},attrs:{data:t.tableData},on:{"selection-change":t.handleSelectionChange,"row-click":t.showDetail}},[a("el-table-column",{attrs:{type:"selection",width:"55",fixed:"left"}}),a("el-table-column",{attrs:{prop:"CompactType",align:"center",label:"合约类型",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.dictionary.CompactType[e.row.CompactType])+" ")]}}])}),a("el-table-column",{attrs:{prop:"StartDate",align:"center",label:"约定日期",width:"90"}}),a("el-table-column",{attrs:{prop:"EndDate",align:"center",label:"到期日期",width:"90"}}),a("el-table-column",{attrs:{prop:"StockCode",align:"center",label:"证券代码",width:"90"}}),a("el-table-column",{attrs:{prop:"StockName",align:"center",label:"证券名称",width:"90"}}),a("el-table-column",{attrs:{prop:"Qty",align:"center",label:"合约数量",width:"100"}}),a("el-table-column",{attrs:{prop:"Term",align:"center",label:"合约期限",width:"90"}}),a("el-table-column",{attrs:{prop:"FeeRate",align:"center",label:"融券费率",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.percent2(e.row.FeeRate))+" ")]}}])}),a("el-table-column",{attrs:{prop:"PreRate",align:"center",label:"提前归还费率",width:"110"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.percent2(e.row.PreRate))+" ")]}}])}),a("el-table-column",{attrs:{prop:"IntFee",align:"center",label:"应记息费",width:"100"}}),a("el-table-column",{attrs:{prop:"ExFlag",align:"center",label:"展期标志",width:"110"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.dictionary.ExFlag[e.row.ExFlag])+" ")]}}])}),a("el-table-column",{attrs:{prop:"PostRate",align:"center",label:"年违约金率",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.percent2(e.row.PostRate))+" ")]}}])}),a("el-table-column",{attrs:{prop:"CompactNo",align:"center",label:"合约编号",width:"240"}}),a("el-table-column",{attrs:{prop:"BusiCode",align:"center",label:"约定模式",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.dictionary.BusiCodeDic[e.row.BusiCode])+" ")]}}])}),a("el-table-column",{attrs:{prop:"Price",align:"center",label:"约定融券价格",width:"120"}}),a("el-table-column",{attrs:{prop:"Amount",align:"center",label:"合约金额",width:"100"}}),a("el-table-column",{attrs:{prop:"CompactStatus",align:"center",label:"合约状态",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.dictionary.CompactStatus[e.row.CompactStatus])+" ")]}}])}),a("el-table-column",{attrs:{prop:"ExIndex",align:"center",label:"展期次数",width:"100"}}),a("el-table-column",{attrs:{prop:"PostFee1",align:"center",label:"预计违约金",width:"100"}}),a("el-table-column",{attrs:{prop:"FundAccount",align:"center",label:"资金账号",width:"110"}}),a("el-table-column",{attrs:{prop:"OrigCompactNo",align:"center",label:"原合约编号",width:"240"}}),a("el-table-column",{attrs:{prop:"TrdDate",align:"center",label:"交易日期",width:"90"}})],1),a("el-table",{staticStyle:{display:"none"},attrs:{id:"tableExport",data:t.Exportdata}},[a("el-table-column",{attrs:{prop:"CompactType",align:"center",label:"合约类型",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.dictionary.CompactType[e.row.CompactType])+" ")]}}])}),a("el-table-column",{attrs:{prop:"StartDate",align:"center",label:"约定日期",width:"90"}}),a("el-table-column",{attrs:{prop:"EndDate",align:"center",label:"到期日期",width:"90"}}),a("el-table-column",{attrs:{prop:"StockCode",align:"center",label:"证券代码",width:"90"}}),a("el-table-column",{attrs:{prop:"StockName",align:"center",label:"证券名称",width:"90"}}),a("el-table-column",{attrs:{prop:"Qty",align:"center",label:"合约数量",width:"100"}}),a("el-table-column",{attrs:{prop:"Term",align:"center",label:"合约期限",width:"90"}}),a("el-table-column",{attrs:{prop:"FeeRate",align:"center",label:"融券费率",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.percent2(e.row.FeeRate))+" ")]}}])}),a("el-table-column",{attrs:{prop:"PreRate",align:"center",label:"提前归还费率",width:"110"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.percent2(e.row.PreRate))+" ")]}}])}),a("el-table-column",{attrs:{prop:"IntFee",align:"center",label:"应记息费",width:"100"}}),a("el-table-column",{attrs:{prop:"ExFlag",align:"center",label:"展期标志",width:"110"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.dictionary.ExFlag[e.row.ExFlag])+" ")]}}])}),a("el-table-column",{attrs:{prop:"PostRate",align:"center",label:"年违约金率",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.percent2(e.row.PostRate))+" ")]}}])}),a("el-table-column",{attrs:{prop:"CompactNo",align:"center",label:"合约编号",width:"240"}}),a("el-table-column",{attrs:{prop:"BusiCode",align:"center",label:"约定模式",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.dictionary.BusiCodeDic[e.row.BusiCode])+" ")]}}])}),a("el-table-column",{attrs:{prop:"Price",align:"center",label:"约定融券价格",width:"120"}}),a("el-table-column",{attrs:{prop:"Amount",align:"center",label:"合约金额",width:"100"}}),a("el-table-column",{attrs:{prop:"CompactStatus",align:"center",label:"合约状态",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.dictionary.CompactStatus[e.row.CompactStatus])+" ")]}}])}),a("el-table-column",{attrs:{prop:"ExIndex",align:"center",label:"展期次数",width:"100"}}),a("el-table-column",{attrs:{prop:"PostFee1",align:"center",label:"预计违约金",width:"100"}}),a("el-table-column",{attrs:{prop:"FundAccount",align:"center",label:"资金账号",width:"110"}}),a("el-table-column",{attrs:{prop:"OrigCompactNo",align:"center",label:"原合约编号",width:"110"}}),a("el-table-column",{attrs:{prop:"TrdDate",align:"center",label:"交易日期",width:"90"}})],1),a("div",{staticClass:"bus_page j_c_a_i pd30"},[a("el-pagination",{attrs:{background:!0,"current-page":t.pagination.current,"page-sizes":[10,20,30,40,50],"page-size":t.pagination.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.pagination.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1),a("pubMingxi",{ref:"pubMingxi",attrs:{detailData:t.detailData}})],1)},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"common_title j_c_a_i"},[a("span"),t._v(" 查询 ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"common_title j_c_a_i"},[a("span"),t._v(" 已了结合约查询列表 ")])}],l=a("5530"),i=a("6a6e"),r=a("29c1"),c=a("0680"),s=a("21a6"),u=a.n(s),d=a("1146"),p=a.n(d),f=a("1ba4"),b=a("ca00"),m=a("2f62"),h=a("c1df"),g=a.n(h),_={components:{topNav:i["a"],pubMingxi:r["a"]},data:function(){var t=this;return{dictionary:c["a"],navList:["已了结合约查询"],current:0,form:{attribute:1,StockCode:"",TrdDate_Begin:"",TrdDate_End:""},multipleSelection:[],tableData:[],successText:"",exportLoading:!1,Exportdata:[],totalData:[],pagination:{pageSize:10,current:1,total:1},detailData:{},endPickerOptions:{disabledDate:function(e){var a=t.form.TrdDate_Begin;if(a)return e.getTime()<new Date(a).getTime()}},startPickerOptions:{disabledDate:function(e){var a=t.form.TrdDate_End;if(a)return e.getTime()>new Date(a).getTime()}}}},computed:Object(l["a"])({},Object(m["c"])(["fundAccount"])),created:function(){this.getCoupons(),this.getCouponsAll()},methods:{percent2:b["a"].percent2,changeAttribute:function(){this.getCoupons(),this.getCouponsAll()},getCoupons:function(){var t=this,e=this.form,a=e.attribute,n=e.StockCode,o=e.TrdDate_Begin,l=e.TrdDate_End,i=this.pagination,r=this.fundAccount,c={RouteID:"W",OperatorID:r,FundAccount:r,CompactStatus:"1",EndDate_Begin:o?g()(o).format("YYYYMMDD"):"",EndDate_End:l?g()(l).format("YYYYMMDD"):"",QueryMode:"A",Page:i.current,PageSize:i.pageSize};1==a?(c.BasketProp=0,""!=n?(c.StockCode=n,c.QueryMode=1):c.QueryMode="A"):2==a&&(c.BasketProp=1,""!=n?(c.StockCode=n,c.QueryMode=3):c.QueryMode="A"),Object(f["a"])(c,"110").then((function(e){0==e.errorCode&&(console.log(e.data),t.tableData=e.data,t.pagination.total=e.recordNum)}))},getCouponsAll:function(){var t=this,e=this.form,a=e.attribute,n=e.StockCode,o=e.TrdDate_Begin,l=e.TrdDate_End,i=this.fundAccount,r={RouteID:"W",OperatorID:i,FundAccount:i,CompactStatus:"1",EndDate_Begin:o,EndDate_End:l,QueryMode:"A"};1==a?(r.BasketProp=0,""!=n?(r.StockCode=n,r.QueryMode=1):r.QueryMode="A"):2==a&&(r.BasketProp=2,""!=n?(r.StockCode=n,r.QueryMode=3):r.QueryMode="A"),Object(f["a"])(r,"110").then((function(e){0==e.errorCode&&(t.totalData=e.data)}))},showDetail:function(t){console.log(t),this.detailData={"合约类型":c["a"].CompactType[t.CompactType],"交易日期":t.TrdDate,"约定日期":t.StartDate||"--","到期日期":t.EndDate||"--","证券代码":t.StockCode||"--","证券名称":t.StockName||"--","合约数量":t.Qty||"--","合约期限":t.Term,"融券费率":b["a"].percent2(t.FeeRate),"提前归还费率":b["a"].percent2(t.PreRate),"应记息费":t.IntFee||"--","展期标志":c["a"].ExFlag[t.ExFlag]||"--","年违约金率":b["a"].percent2(t.PostRate),"合约编号":t.CompactNo||"--","约定模式":c["a"].BusiCodeDic[t.BusiCode]||"--","约定融券价格":t.Price||"--","合约金额":t.Amount||"--","合约状态":c["a"].CompactStatus[t.CompactStatus]||"--","展期次数":t.ExIndex,"预计违约金":t.PostFee1,"资金帐号":t.FundAccount||"--","原合约编号":t.OrigCompactNo||"--"},this.$refs.pubMingxi.showModel()},onSearch:function(){this.pagination.current=1,this.getCoupons()},clearForm:function(){this.$refs.form.resetFields(),this.pagination.current=1,this.getCoupons()},handleSelectionChange:function(t){console.log(t),this.multipleSelection=t},exportData:function(){if(this.exportLoading=!0,this.multipleSelection.length>0?this.Exportdata=this.multipleSelection:this.Exportdata=this.totalData,0==this.Exportdata.length)return this.$message({message:"暂无可导出数据！",type:"warning"}),void(this.exportLoading=!1);var t=this;this.$nextTick((function(){t.exportDataMethod()})),this.exportLoading=!1},exportDataMethod:function(){var t={raw:!0},e=p.a.utils.table_to_book(document.querySelector("#tableExport"),t),a=p.a.write(e,{bookType:"xlsx",bookSST:!0,type:"array"});try{u.a.saveAs(new Blob([a],{type:"application/octet-stream"}),"已了结合约查询.xlsx")}catch(n){console.log(n,a)}return a},handleSizeChange:function(t){this.pagination.pageSize=t,this.getCoupons()},handleCurrentChange:function(t){this.pagination.current=t,this.getCoupons()}}},v=_,C=(a("1663"),a("2877")),y=Object(C["a"])(v,n,o,!1,null,"6dcd18dd",null);e["default"]=y.exports}}]);